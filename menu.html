<!DOCTYPE html>
<html>
<head>
<title>MenÃº EIEL</title>
<meta charset="UTF-8">
<style>
body { font-family: Arial; padding:20px; }
.card {
  border: 1px solid #ddd;
  padding: 15px;
  margin: 10px 0;
  cursor: pointer;
  background: #f8f8f8;
}
.card:hover { background:#e6e6e6; }
button { padding:10px; margin-top:20px; cursor:pointer; }
</style>
</head>
<body>

<h2>Bienvenido, <span id="usuario"></span></h2>
<p>Seleccione el Ã¡rea a actualizar:</p>

<div class="card" onclick="go('form-agua.html')">ğŸ’§ Agua</div>
<div class="card" onclick="go('form-saneamiento.html')">ğŸš° Saneamiento</div>
<div class="card" onclick="go('form-residuos.html')">â™»ï¸ Residuos</div>
<div class="card" onclick="go('form-vias.html')">ğŸ›£ï¸ VÃ­as</div>

<button onclick="enviar()">ğŸ“¤ Enviar datos oficiales</button>

<script>
if (!sessionStorage.getItem('usuario')) window.location="index.html";
document.getElementById('usuario').innerText = sessionStorage.getItem('usuario');

function go(pag){ window.location = pag; }

function enviar(){
  alert("En la versiÃ³n final se enviarÃ¡ a DiputaciÃ³n.\nPor ahora, use la pÃ¡gina de exportaciÃ³n.");
}

// âœ… marcar mÃ³dulos completados
let estado = JSON.parse(localStorage.getItem("estado_" + sessionStorage.getItem('usuario'))) || {};
document.querySelectorAll(".card").forEach(card => {
  const txt = card.innerText.toLowerCase();
  const mod = ("form-" + txt.split(" ")[1]).replace("Ã­","i");
  if (estado[mod]) {
    card.style.border = "2px solid green";
    card.innerHTML += " âœ…";
  }
});
</script>

</body>
</html>
